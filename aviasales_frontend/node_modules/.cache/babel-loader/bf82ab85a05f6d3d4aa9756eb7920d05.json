{"ast":null,"code":"import { all, call, put, takeEvery, delay } from 'redux-saga/effects';\nimport { useDispatch } from 'react-redux';\nexport function* helloSaga() {\n  console.log('Hello Sagas!');\n  let x = new XMLHttpRequest();\n\n  const get = () => {\n    x.open(\"GET\", \"https://front-test.beta.aviasales.ru/search\", true);\n\n    x.onload = () => {\n      alert(x.responseText);\n      useDispatch({\n        type: 'DATA_FETCHED'\n      });\n    };\n\n    x.send(null);\n  };\n\n  yield call(get); // yield put({ type: 'DATA_FETCHED' });\n}\nexport function* watchSaga() {\n  yield takeEvery('DATA_FETCHED', helloSaga);\n}\nexport function* rootSaga() {\n  yield all([helloSaga(), watchSaga()]);\n}","map":{"version":3,"sources":["/Users/u18193107/Desktop/test-tasks/aviasales_frontend/src/rootSaga.js"],"names":["all","call","put","takeEvery","delay","useDispatch","helloSaga","console","log","x","XMLHttpRequest","get","open","onload","alert","responseText","type","send","watchSaga","rootSaga"],"mappings":"AAAA,SAASA,GAAT,EAAcC,IAAd,EAAoBC,GAApB,EAAyBC,SAAzB,EAAoCC,KAApC,QAAiD,oBAAjD;AACA,SAASC,WAAT,QAA2B,aAA3B;AAIA,OAAO,UAAUC,SAAV,GAAsB;AAC3BC,EAAAA,OAAO,CAACC,GAAR,CAAY,cAAZ;AAEA,MAAIC,CAAC,GAAG,IAAIC,cAAJ,EAAR;;AAEA,QAAMC,GAAG,GAAG,MAAM;AAChBF,IAAAA,CAAC,CAACG,IAAF,CAAO,KAAP,EAAc,6CAAd,EAA6D,IAA7D;;AACAH,IAAAA,CAAC,CAACI,MAAF,GAAW,MAAM;AACfC,MAAAA,KAAK,CAACL,CAAC,CAACM,YAAH,CAAL;AACAV,MAAAA,WAAW,CAAC;AAAEW,QAAAA,IAAI,EAAE;AAAR,OAAD,CAAX;AACD,KAHD;;AAIAP,IAAAA,CAAC,CAACQ,IAAF,CAAO,IAAP;AACD,GAPD;;AASA,QAAMhB,IAAI,CAACU,GAAD,CAAV,CAd2B,CAe3B;AACD;AAED,OAAO,UAAUO,SAAV,GAAsB;AAC3B,QAAMf,SAAS,CAAC,cAAD,EAAiBG,SAAjB,CAAf;AACD;AAED,OAAO,UAAUa,QAAV,GAAqB;AAC1B,QAAMnB,GAAG,CAAC,CACRM,SAAS,EADD,EAERY,SAAS,EAFD,CAAD,CAAT;AAID","sourcesContent":["import { all, call, put, takeEvery, delay } from 'redux-saga/effects';\nimport { useDispatch} from 'react-redux';\n\n\n\nexport function* helloSaga() {\n  console.log('Hello Sagas!');\n\n  let x = new XMLHttpRequest();\n\n  const get = () => {\n    x.open(\"GET\", \"https://front-test.beta.aviasales.ru/search\", true);\n    x.onload = () => {\n      alert(x.responseText);\n      useDispatch({ type: 'DATA_FETCHED' });\n    }\n    x.send(null);\n  }\n\n  yield call(get);\n  // yield put({ type: 'DATA_FETCHED' });\n}\n\nexport function* watchSaga() {\n  yield takeEvery('DATA_FETCHED', helloSaga)\n}\n\nexport function* rootSaga() {\n  yield all([\n    helloSaga(),\n    watchSaga()\n  ])\n}"]},"metadata":{},"sourceType":"module"}