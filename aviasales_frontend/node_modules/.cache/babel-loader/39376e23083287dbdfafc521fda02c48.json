{"ast":null,"code":"var _jsxFileName = \"/Users/u18193107/Desktop/test-tasks/aviasales_frontend/src/components/Result.js\";\nimport React from 'react';\nimport styled from 'styled-components';\nimport { useSelector } from 'react-redux';\nimport { Toggler } from './Toggler/Toggler.js';\nimport { Item } from './Item';\nconst Wrapper = styled.div`\n  display: flex;\n  flex-flow: column nowrap;\n  align-items: center;\n  width: 500px;\n`;\n\nconst compareByPrice = (a, b) => a.price > b.price ? 1 : -1;\n\nconst compareByDuration = (a, b) => a.segments[0].duration + a.segments[1].duration > b.segments[0].duration + b.segments[1].duration ? 1 : -1;\n\nconst filtered = (tickets, filter) => {\n  const res = [...tickets];\n  res = res.filter(ticket => {\n    return false;\n    if (filter.all) return true;\n    let s1 = ticket.segments[0].stops.length;\n    let s2 = ticket.segments[1].stops.length;\n    if (s1 > 3 || s2 > 3) return false;\n    if ((s1 == 3 || s2 == 3) && !filter.transferThree) return false;\n    if ((s1 == 2 || s2 == 2) && !filter.transferTwo) return false;\n    if ((s1 == 1 || s2 == 1) && !filter.transferOne) return false;\n    if ((s1 == 0 || s2 == 0) && !filter.transferNo) return false;\n    return true;\n  });\n  res.sort(filter.fast ? compareByDuration : compareByPrice);\n  return res.slice(0, 5);\n};\n\nexport const Result = props => {\n  const tickets = useSelector(state => state.tickets);\n  const filter = useSelector(state => state.filter); // const filtered = tickets => {\n  //   const res = [...tickets];\n  //   res.sort(tickets.fast ? compareByDuration : compareByPrice);\n  //   res.filter(ticket => {\n  //     if (filter.all) return true;\n  //     let s1 = ticket.segments[0].stops.length;\n  //     let s2 = ticket.segments[1].stops.length;\n  //     if (s1 > 3 || s2 > 3) return false;\n  //     if ((s1 == 3 || s2 == 3) && !filter.transferThree) return false;\n  //     if ((s1 == 2 || s2 == 2) && !filter.transferTwo) return false;\n  //     if ((s1 == 1 || s2 == 1) && !filter.transferOne) return false;\n  //     if ((s1 == 0 || s2 == 0) && !filter.transferNo) return false;\n  //     return true;\n  //   });\n  // }\n  // [{\n  //   \"price\": 54986,\n  //   \"carrier\": \"S7\",\n  //   \"segments\": [\n  //     {\n  //       \"origin\": \"MOW\",\n  //       \"destination\": \"HKT\",\n  //       \"date\": \"2020-01-11T03:54:00.000Z\",\n  //       \"stops\": [\"DXB\"],\n  //       \"duration\":1634\n  //     },\n  //     {\n  //       \"origin\": \"MOW\",\n  //       \"destination\": \"HKT\",\n  //       \"date\": \"2020-01-31T09:50:00.000Z\",\n  //       \"stops\": [\n  //         \"DXB\",\n  //         \"SIN\"\n  //       ],\n  //       \"duration\": 1983\n  //     }\n  //   ]\n  // },\n  // {\n  //   \"price\": 54986,\n  //   \"carrier\": \"S7\",\n  //   \"segments\": [\n  //     {\n  //       \"origin\": \"MOW\",\n  //       \"destination\": \"HKT\",\n  //       \"date\": \"2020-01-11T03:54:00.000Z\",\n  //       \"stops\": [\"DXB\"],\n  //       \"duration\":1634\n  //     },\n  //     {\n  //       \"origin\": \"MOW\",\n  //       \"destination\": \"HKT\",\n  //       \"date\": \"2020-01-31T09:50:00.000Z\",\n  //       \"stops\": [\n  //         \"DXB\",\n  //         \"SIN\"\n  //       ],\n  //       \"duration\": 1983\n  //     }\n  //   ]\n  // }];\n\n  let i = 0;\n  const listItems = filtered(tickets, filter).map(ticket => React.createElement(Item, Object.assign({\n    key: i++\n  }, ticket, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 107\n    },\n    __self: this\n  })));\n  return React.createElement(Wrapper, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 111\n    },\n    __self: this\n  }, React.createElement(Toggler, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 112\n    },\n    __self: this\n  }), listItems);\n}; // Todo\n// 1) Итем макет","map":{"version":3,"sources":["/Users/u18193107/Desktop/test-tasks/aviasales_frontend/src/components/Result.js"],"names":["React","styled","useSelector","Toggler","Item","Wrapper","div","compareByPrice","a","b","price","compareByDuration","segments","duration","filtered","tickets","filter","res","ticket","all","s1","stops","length","s2","transferThree","transferTwo","transferOne","transferNo","sort","fast","slice","Result","props","state","i","listItems","map"],"mappings":"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","sourcesContent":["import React from 'react';\nimport styled from 'styled-components';\n\nimport { useSelector } from 'react-redux';\n\nimport { Toggler } from './Toggler/Toggler.js';\nimport { Item } from './Item';\n\nconst Wrapper = styled.div`\n  display: flex;\n  flex-flow: column nowrap;\n  align-items: center;\n  width: 500px;\n`;\n\nconst compareByPrice = (a, b) => a.price > b.price ? 1 : -1;\n\nconst compareByDuration = (a, b) => a.segments[0].duration + a.segments[1].duration > b.segments[0].duration + b.segments[1].duration ? 1 : -1;\n\nconst filtered = (tickets, filter) => {\n  const res = [...tickets];\n  res = res.filter(ticket => {\n    return false;\n    if (filter.all) return true;\n    let s1 = ticket.segments[0].stops.length;\n    let s2 = ticket.segments[1].stops.length;\n    if (s1 > 3 || s2 > 3) return false;\n    if ((s1 == 3 || s2 == 3) && !filter.transferThree) return false;\n    if ((s1 == 2 || s2 == 2) && !filter.transferTwo) return false;\n    if ((s1 == 1 || s2 == 1) && !filter.transferOne) return false;\n    if ((s1 == 0 || s2 == 0) && !filter.transferNo) return false;\n    return true;\n  });\n  res.sort(filter.fast ? compareByDuration : compareByPrice);\n  return res.slice(0, 5);\n}\n\nexport const Result = props => {\n  const tickets = useSelector(state => state.tickets);\n  const filter = useSelector(state => state.filter);\n\n  // const filtered = tickets => {\n  //   const res = [...tickets];\n  //   res.sort(tickets.fast ? compareByDuration : compareByPrice);\n  //   res.filter(ticket => {\n  //     if (filter.all) return true;\n  //     let s1 = ticket.segments[0].stops.length;\n  //     let s2 = ticket.segments[1].stops.length;\n  //     if (s1 > 3 || s2 > 3) return false;\n  //     if ((s1 == 3 || s2 == 3) && !filter.transferThree) return false;\n  //     if ((s1 == 2 || s2 == 2) && !filter.transferTwo) return false;\n  //     if ((s1 == 1 || s2 == 1) && !filter.transferOne) return false;\n  //     if ((s1 == 0 || s2 == 0) && !filter.transferNo) return false;\n  //     return true;\n  //   });\n  // }\n  // [{\n  //   \"price\": 54986,\n  //   \"carrier\": \"S7\",\n  //   \"segments\": [\n  //     {\n  //       \"origin\": \"MOW\",\n  //       \"destination\": \"HKT\",\n  //       \"date\": \"2020-01-11T03:54:00.000Z\",\n  //       \"stops\": [\"DXB\"],\n  //       \"duration\":1634\n  //     },\n  //     {\n  //       \"origin\": \"MOW\",\n  //       \"destination\": \"HKT\",\n  //       \"date\": \"2020-01-31T09:50:00.000Z\",\n  //       \"stops\": [\n  //         \"DXB\",\n  //         \"SIN\"\n  //       ],\n  //       \"duration\": 1983\n  //     }\n  //   ]\n  // },\n  // {\n  //   \"price\": 54986,\n  //   \"carrier\": \"S7\",\n  //   \"segments\": [\n  //     {\n  //       \"origin\": \"MOW\",\n  //       \"destination\": \"HKT\",\n  //       \"date\": \"2020-01-11T03:54:00.000Z\",\n  //       \"stops\": [\"DXB\"],\n  //       \"duration\":1634\n  //     },\n  //     {\n  //       \"origin\": \"MOW\",\n  //       \"destination\": \"HKT\",\n  //       \"date\": \"2020-01-31T09:50:00.000Z\",\n  //       \"stops\": [\n  //         \"DXB\",\n  //         \"SIN\"\n  //       ],\n  //       \"duration\": 1983\n  //     }\n  //   ]\n  // }];\n\n  let i = 0;\n\n  const listItems = filtered(tickets, filter).map(ticket =>\n    <Item key={i++} {...ticket} />\n  );\n\n  return (\n    <Wrapper>\n      <Toggler />\n      {listItems}\n    </Wrapper>\n  );\n}\n\n// Todo\n// 1) Итем макет"]},"metadata":{},"sourceType":"module"}